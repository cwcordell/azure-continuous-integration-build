trigger:
  - master
  
pool:
  vmImage: 'ubuntu-latest'

stages:
  - stage: validate_and_test
    jobs:
      - job: validate
        steps:
        - script: echo checking code quality
          displayName: 'validate code'
      - job: test
        dependsOn: validate
        steps:
        - script: echo running unit tests
          displayName: 'unit testing'
  - stage: build_and_archive
    dependsOn: validate_and_test
    jobs:
      - job: build
        steps:
        - script: echo compiling code
          displayName: 'build code'
        - script: echo archiving
          displayName: 'archiving artifact'

